(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{3455:function(e,s,r){Promise.resolve().then(r.bind(r,1325))},1325:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return v}});var t=r(3827),o=r(7122),i=r(9602),n=r(9960),l=r(1419),a=r(8523),d=r(7333),u=r(4693),c=r(2647),h=r(512),p=r(1342),f=r(4854),w=r(4090),x=r(2670),g=r(8792),b=r(7907),m=r(3529),j=r(7269);function v(){var e,s;let[r,v]=(0,w.useState)(!1),[y,P]=(0,w.useState)(!1),k=(0,c.p)(),C=(0,b.useRouter)(),S=(0,b.useSearchParams)(),{updatePassword:I}=(0,j.aC)(),_=null==S?void 0:S.get("token");(0,w.useEffect)(()=>{_||(k({title:"Invalid reset link.",description:"The password reset link is invalid or has expired.",status:"error",duration:5e3,isClosable:!0}),C.push("/auth/forgot-password"))},[_,k,C]);let{handleSubmit:A,register:N,watch:R,formState:{errors:E}}=(0,x.cI)(),K=R("password"),q=async e=>{if(_){v(!0);try{let{error:s}=await I(e.password);if(s)throw s;P(!0),k({title:"Password reset successful.",description:"Your password has been reset successfully.",status:"success",duration:5e3,isClosable:!0})}catch(e){console.error("Error resetting password:",e),k({title:"An error occurred.",description:"Unable to reset your password. The link may have expired.",status:"error",duration:5e3,isClosable:!0})}finally{v(!1)}}};return(0,t.jsx)(m.Z,{children:(0,t.jsx)(o.W,{maxW:"lg",py:{base:12,md:24},children:(0,t.jsxs)(i.K,{gap:8,children:[(0,t.jsxs)(i.K,{align:"center",children:[(0,t.jsx)(n.X,{fontSize:"4xl",children:"Reset your password"}),(0,t.jsx)(l.x,{fontSize:"lg",color:"gray.600",children:"Enter your new password below"})]}),(0,t.jsx)(a.x,{rounded:"lg",bg:"white",_dark:{bg:"gray.700"},boxShadow:"lg",p:8,children:y?(0,t.jsxs)(i.K,{gap:4,textAlign:"center",children:[(0,t.jsx)(n.X,{as:"h4",size:"md",children:"Password Reset Complete"}),(0,t.jsx)(l.x,{children:"Your password has been reset successfully. You can now sign in with your new password."}),(0,t.jsx)(d.z,{mt:4,bg:"brand.500",color:"white",_hover:{bg:"brand.600"},onClick:()=>C.push("/auth/signin"),children:"Go to Sign In"})]}):(0,t.jsx)("form",{onSubmit:A(q),children:(0,t.jsxs)(i.K,{gap:4,children:[(0,t.jsxs)(h.NI,{isInvalid:!!E.password,isRequired:!0,children:[(0,t.jsx)(p.l,{children:"New Password"}),(0,t.jsx)(u.I,{type:"password",...N("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})}),(0,t.jsx)(f.J1,{children:null===(e=E.password)||void 0===e?void 0:e.message})]}),(0,t.jsxs)(h.NI,{isInvalid:!!E.confirmPassword,isRequired:!0,children:[(0,t.jsx)(p.l,{children:"Confirm New Password"}),(0,t.jsx)(u.I,{type:"password",...N("confirmPassword",{required:"Please confirm your password",validate:e=>e===K||"Passwords do not match"})}),(0,t.jsx)(f.J1,{children:null===(s=E.confirmPassword)||void 0===s?void 0:s.message})]}),(0,t.jsx)(i.K,{gap:10,pt:2,children:(0,t.jsx)(d.z,{bg:"brand.500",color:"white",_hover:{bg:"brand.600"},type:"submit",isLoading:r,children:"Reset Password"})}),(0,t.jsx)(i.K,{pt:6,children:(0,t.jsxs)(l.x,{textAlign:"center",children:["Remember your password?"," ",(0,t.jsx)(g.default,{href:"/auth/signin",passHref:!0,children:(0,t.jsx)(l.x,{as:"span",color:"brand.500",children:"Sign in"})})]})})]})})})]})})})}},2647:function(e,s,r){"use strict";r.d(s,{p:function(){return d}});var t=r(4090),o=r(4839),i=r(5707),n=r(4810),l=r(3378),a=r(859);function d(e){let{theme:s}=(0,a.uP)(),r=(0,l.OX)();return(0,t.useMemo)(()=>(function(e,s){let r=r=>{var t;return{...s,...r,position:function(e,s){var r;let t=null!=e?e:"bottom",o={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[t];return null!==(r=null==o?void 0:o[s])&&void 0!==r?r:t}(null!==(t=null==r?void 0:r.position)&&void 0!==t?t:null==s?void 0:s.position,e)}},t=e=>{let s=r(e),t=(0,i.C)(s);return n.f.notify(t,s)};return t.update=(e,s)=>{n.f.update(e,r(s))},t.promise=(e,s)=>{let r=t({...s.loading,status:"loading",duration:null});e.then(e=>t.update(r,{status:"success",duration:5e3,...(0,o.P)(s.success,e)})).catch(e=>t.update(r,{status:"error",duration:5e3,...(0,o.P)(s.error,e)}))},t.closeAll=n.f.closeAll,t.close=n.f.close,t.isActive=n.f.isActive,t})(s.direction,{...r,...e}),[e,s.direction,r])}}},function(e){e.O(0,[699,704,59,587,262,378,374,529,971,69,744],function(){return e(e.s=3455)}),_N_E=e.O()}]);